<!DOCTYPE html>
<html lang="en">
<head>
  <!-- 文档类型和基础设置 -->
  <meta charset="UTF-8" /> <!-- 设置字符编码为UTF-8 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <!-- 响应式视口设置 -->
  <title>婷婷生日快乐</title> <!-- 页面标题 -->
  
  <!-- CSS样式部分 -->
  <style>
    /* 基础页面样式 */
    body {
      background: #fce4ec; /* 粉色背景 */
      margin: 0; /* 去除默认边距 */
      min-height: 100vh; /* 最小高度为视口高度 */
      overflow: hidden; /* 隐藏溢出内容 */
      font-family: sans-serif; /* 无衬线字体 */
    }

    /* 礼物盒子样式 */
    .gift-box {
      position: fixed; /* 固定定位 */
      top: 50%; /* 垂直居中 */
      left: 50%; /* 水平居中 */
      transform: translate(-50%, -50%); /* 精确居中 */
      width: 700px; /* 宽度 */
      height: auto; /* 高度自适应 */
      cursor: pointer; /* 鼠标指针样式 */
      z-index: 2; /* 层级 */
      transition: 0.3s; /* 过渡效果时间 */
    }

    /* 禁用状态样式 */
    .disabled {
      pointer-events: none; /* 禁用鼠标事件 */
      cursor: default; /* 默认鼠标指针 */
    }

    /* 生日元素下落动画样式 */
    .birthday-element {
      position: absolute; /* 绝对定位 */
      width: 150px; /* 宽度 */
      height: auto; /* 高度自适应 */
      animation: fall 3s linear infinite; /* 下落动画 */
    }

    /* 下落动画关键帧 */
    @keyframes fall {
      0% {
        transform: translateY(-100px); /* 起始位置 */
      }
      100% {
        transform: translateY(100vh); /* 结束位置(视口高度) */
      }
    }

    /* 浮动动画关键帧 */
    @keyframes float {
      0%, 100% {
        transform: translateY(0) translateX(0) rotate(0deg); /* 原始位置 */
      }
      25% {
        transform: translateY(-3px) translateX(-3px) rotate(1deg); /* 左上浮动 */
      }
      50% {
        transform: translateY(-3px) translateX(3px) rotate(-2deg); /* 右上浮动 */
      }
      75% {
        transform: translateY(-3px) translateX(-3px) rotate(1deg); /* 左上浮动 */
      }
    }

    /* 浮动元素样式 */
    .floating {
      animation: float 3s ease-in-out infinite; /* 浮动动画 */
      transform-origin: center; /* 变换原点为中心 */
    }

    /* 爱心消息样式 */
    .love-message {
      position: absolute; /* 绝对定位 */
      font-size: 20px; /* 字体大小 */
      color: #ff4081; /* 粉色字体 */
      font-weight: bold; /* 粗体 */
      animation: fadeOut 3s forwards; /* 淡出动画 */
    }

    /* 淡出动画关键帧 */
    @keyframes fadeOut {
      0% {
        opacity: 1; /* 完全可见 */
      }
      100% {
        opacity: 0; /* 完全透明 */
        transform: translateY(-20px); /* 上移20px */
      }
    }

    /* 淡入动画关键帧 */
    @keyframes fadeIn {
      from {
        opacity: 0; /* 完全透明 */
        transform: scale(0.8); /* 缩小到80% */
      }
      to {
        opacity: 1; /* 完全可见 */
        transform: scale(1); /* 原始大小 */
      }
    }
    
    /* 淡入效果类 */
    .gift.fade-in {
      animation: fadeIn 0.8s ease forwards; /* 淡入动画 */
    }

    /* 礼物基础样式 */
    .gift {
      cursor: pointer; /* 鼠标指针样式 */
      z-index: 3; /* 层级 */
    }
  </style>
</head>
<body>
<audio id="birthdayMusic" src="music\Happy.mp3" loop></audio>
  
  <!-- 隐藏的礼物元素，每个都有data-image属性指定点击后显示的图片 -->
  <img src="生日素材/礼物2.png" class="gift" id="specialGift" style="display: none; position: absolute; left: 730px; top: 620px; transform: rotate(-15deg);" width="80">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/2.png" style="display: none; position: absolute; left: 230px; top: 620px; transform: rotate(10deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/3.png" style="display: none;position: absolute; left: 130px; top: 520px; transform: rotate(30deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/4a.png" style="display: none;position: absolute; left: 100px; top: 420px; transform: rotate(-5deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/5.png" style="display: none;position: absolute; left: 400px; top: 220px; transform: rotate(-15deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/6.png" style="display: none;position: absolute; left: 250px; top: 350px; transform: rotate(-10deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/7.png" style="display: none;position: absolute; left: 400px; top: 450px; transform: rotate(20deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/8a.png" style="display: none;position: absolute; left: 500px; top: 550px; transform: rotate(0deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/9a.png" style="display: none;position: absolute; right: 500px; top: 550px; transform: rotate(25deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/10a.png" style="display: none;position: absolute; right: 400px; top: 650px; transform: rotate(-15deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/11a.png" style="display: none;position: absolute; right: 200px; top: 600px; transform: rotate(-0deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/12.png" style="display: none;position: absolute; right: 100px; top: 500px; transform: rotate(-15deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/13.png " style="display: none;position: absolute; right: 400px; top: 400px; transform: rotate(0deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/14.png" style="display: none;position: absolute; right: 200px; top: 200px; transform: rotate(30deg);" width="70">
  <img src="生日素材/礼物.png" class="gift" data-image="Together/1.png" style="display: none;position: absolute; right: 400px; top: 300px; transform: rotate(0deg);" width="70">
  
  <!-- 页面装饰元素 -->
  <img src="生日素材/生日帽4.png" style="position: absolute; right: 200px; top: 100px; transform: rotate(30deg);" width="300">
  <img src="生日素材/生日礼炮.png" style="position: absolute; right: 100px; top: 300px; transform: rotate(-90deg);" width="100">
  <img src="生日素材/生日帽.png" style="position: absolute; left: 200px; top: 200px;" width="100">
  <img src="生日素材/蓝色气球.png" style="position: absolute; left: 100px; top: 300px; transform: rotate(-50deg);" width="60">
  <img src="生日素材/生日挂饰1.png" style="position: absolute; left: -110px; top: -10px; transform: rotate(-50deg);" width="500">
  <img src="生日素材/生日挂饰1.png" style="position: absolute; right: -120px; top: 10px; transform: rotate(50deg);" width="500">
  <img src="生日素材/生日挂饰2.png" class="floating" style="position: absolute; left: 450px; top: -100px; transform: rotate(45deg);" width="600">
  <img src="生日素材/生日挂饰3.png" class="floating" style="position: absolute; left: 350px; top: -100px; transform: rotate(45deg);" width="800">

  <!-- 主蛋糕图片，点击触发动画 -->
  <img src="生日素材/生日蛋糕.png" class="gift-box" onclick="startAnimation()" />

  <!-- JavaScript代码 -->
  <script>
    let clicked = false; // 标记是否已点击蛋糕

    // 开始动画的主函数
    function startAnimation() {
      if (clicked) return; // 如果已经点击过，直接返回
      clicked = true; // 标记为已点击

const music = document.getElementById('birthdayMusic');
  music.volume = 0.2; // 设置为20%的音量
  music.play();
      
      alert("🎉祝我最爱的婷婷生日快乐"); // 弹出祝福消息
      document.querySelector('.gift-box').classList.add('disabled'); // 禁用蛋糕点击
      createFallingElements(); // 创建下落元素
      revealGifts(); // 显示隐藏的礼物
      addGiftClickHandlers(); // 为礼物添加点击事件
    }

    // 显示隐藏的礼物
    function revealGifts() {
      const gifts = document.querySelectorAll('.gift'); // 获取所有礼物元素
      gifts.forEach((gift, index) => {
        // 为每个礼物设置延迟显示
        setTimeout(() => {
          gift.style.display = 'block'; // 显示礼物
          gift.classList.add('fade-in'); // 添加淡入效果
        }, index * 300); // 每个礼物间隔300ms显示
      });
    }

    // 创建下落动画元素
    function createFallingElements() {
      // 生日元素图片数组
      const birthdayImages = [
        '生日素材/生日卡通元素1.png',
        '生日素材/生日卡通元素2.png',
        '生日素材/生日卡通元素3.png',
        '生日素材/生日卡通元素4.png',
        '生日素材/生日卡通元素5.png',
        '生日素材/生日卡通元素6.png',
        '生日素材/生日卡通元素7.png',
        '生日素材/生日卡通元素8.png',
        '生日素材/生日卡通元素9.png',
        '生日素材/生日卡通元素10.png',
        '生日素材/生日卡通元素11.png'
      ];

      // 每400ms创建一个新元素
      setInterval(() => {
        const birthdayElement = document.createElement('img'); // 创建img元素
        const randomIndex = Math.floor(Math.random() * birthdayImages.length); // 随机选择图片
        birthdayElement.src = birthdayImages[randomIndex]; // 设置图片源
        birthdayElement.classList.add('birthday-element'); // 添加样式类

        // 随机水平位置
        const leftPosition = Math.random() * window.innerWidth;
        birthdayElement.style.left = `${leftPosition}px`;

        document.body.appendChild(birthdayElement); // 添加到页面

        // 检查并移除超出屏幕的元素
        const checkAndRemoveElement = () => {
          const rect = birthdayElement.getBoundingClientRect();
          if (rect.bottom >= window.innerHeight) {
            createLoveMessage(rect.left, rect.top); // 创建爱心消息
            birthdayElement.remove(); // 移除元素
            clearInterval(removeInterval); // 清除定时器
          }
        };

        const removeInterval = setInterval(checkAndRemoveElement, 50); // 每50ms检查一次

        // 点击元素时创建爱心消息
        birthdayElement.addEventListener('click', function(event) {
          const xPos = event.clientX;
          const yPos = event.clientY;
          birthdayElement.remove();
          createLoveMessage(xPos, yPos);
        });

      }, 400);
    }

    // 创建爱心消息
    function createLoveMessage(left, top) {
      const loveMessage = document.createElement('div'); // 创建div元素
      loveMessage.classList.add('love-message'); // 添加样式类
      loveMessage.innerHTML = '爱你'; // 设置内容
      loveMessage.style.left = `${left}px`; // 设置水平位置
      loveMessage.style.top = `${top}px`; // 设置垂直位置
      document.body.appendChild(loveMessage); // 添加到页面
    }

    // 为礼物添加点击事件处理程序
    function addGiftClickHandlers() {
      const gifts = document.querySelectorAll('.gift'); // 获取所有礼物
      
      gifts.forEach(gift => {
        gift.addEventListener('click', function(e) {
          // 获取该礼物对应的图片路径
          const imagePath = this.getAttribute('data-image');
          showSpecialImage(imagePath); // 显示特殊图片
        });
      });
    }

    // 显示特殊图片
    function showSpecialImage(imagePath) {
      const img = document.createElement('img'); // 创建img元素
      img.src = imagePath; // 设置图片源
      // 设置样式
      img.style.position = 'fixed';
      if (
    imagePath.includes('a.')
    
  ) {
    img.style.width = '320px';
  } else {
    img.style.width = '530px'; // 这里是放大的尺寸，你可以改成更大
  }
      img.style.left = '50%';
      img.style.top = '50%';
      img.style.transform = 'translate(-50%, -50%)';
      img.style.opacity = '0';
      img.style.zIndex = '999';
      img.style.transition = 'opacity 1s, transform 0.5s';
      img.style.boxShadow = '0 0 20px rgba(0,0,0,0.3)';
      
      document.body.appendChild(img); // 添加到页面
      
      // 短暂延迟后显示图片
      setTimeout(() => {
        img.style.opacity = '1';
        img.style.transform = 'translate(-50%, -50%) scale(1.1)';
      }, 10);
      
      // 3秒后淡出并移除图片
      setTimeout(() => {
        img.style.opacity = '0';
        img.style.transform = 'translate(-50%, -50%) scale(0.9)';
        setTimeout(() => {
          img.remove();
        }, 1000);
      }, 4000);
    }

    document.getElementById('specialGift').addEventListener('click', function() {
  const letter = document.createElement('div');
  letter.style.position = 'fixed';
  letter.style.top = '40%';
  letter.style.left = '50%';
  letter.style.transform = 'translate(-50%, -50%) scale(0.8)';
  letter.style.width = '820px';
  letter.style.padding = '30px 20px';
  letter.style.background = 'linear-gradient(135deg, #ffe6f0, #ffffff)';
  letter.style.boxShadow = '0 0 30px rgba(255, 182, 193, 0.7)';
  letter.style.borderRadius = '15px';
  letter.style.border = '2px solid pink';
  letter.style.zIndex = '1000';
  letter.style.opacity = '0';
  letter.style.transition = 'opacity 1s, transform 0.5s';
  letter.style.fontFamily = '"Comic Sans MS", "Arial", cursive';
  letter.innerHTML = `
    <h2 style="text-align: center; color: #ff69b4; margin-bottom: 15px; font-size: 26px;"> 给婷婷的一封生日信</h2>
    <p style="font-size: 18px; color: #555; line-height: 1.8; text-align: left;">
  ㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ生日快乐呀！时光轻轻走过，这么快又把你的生日带到眼前，愿这一天，所有的美好都向你靠近。
        不知道你喜不喜欢这份特别的电子礼物呢？感觉时间真的过的好快啊，不知不觉，从我们第一次约会到现在已经过去快两年啦，
        我放的这些照片你还记得多少呀，有没有让你想起一些我们在一起的日子？<br>
        ㅤㅤ另外，我想让你知道，我一直都很想你的，真的很想。尽管我们可能不像热恋那样交流得这么频繁了，但是我对你的喜欢一直都没有变
      。很可惜不能当面为你庆祝，但我保证一定会有那一天的，现在就让我们先着眼完成眼前的事吧。<br>
      ㅤㅤ在这纷扰的人间，有一程风景，叫作与你同行，以后你的每个生日我都会在的。最后，我要说的那两个字，已经疯狂的在页面底部冒出来啦。
    </p>
    <div style="text-align: center; margin-top: 25px;">
      <button id="closeLetter" style="padding: 5px 15px; background: linear-gradient(to right, #ff7eb3, #ff758c);
       border: none; border-radius: 25px; font-size: 12px; color: white; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: background 0.3s;">关 闭</button>
    </div>
  `;
  document.body.appendChild(letter);

  setTimeout(() => {
    letter.style.opacity = '1';
    letter.style.transform = 'translate(-50%, -50%) scale(1)';
  }, 50);

  document.getElementById('closeLetter').addEventListener('click', function() {
    document.body.removeChild(letter);
  });
});


  </script>
</body>
</html>
